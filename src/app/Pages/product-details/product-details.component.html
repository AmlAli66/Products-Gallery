<div *ngIf="isLoading" class="text-center my-10">
    <div class="animate-spin rounded-full h-16 w-16 border-b-2 border-blue-500 mx-auto"></div>
    <p class="mt-4 text-gray-500">Loading products...</p>
</div>
<div *ngIf="error&&!isLoading" class="text-red-500 text-center p-8">{{ error }} <span>Try again.</span> </div>

<div *ngIf="product" class="max-w-4xl mx-auto p-4">
    <img [src]="product.image" alt="Product Image" class="w-64 h-auto mx-auto mb-4">
    <h1 class="text-2xl font-bold mb-2">{{ product.title }}</h1>
    <p class="text-gray-600 mb-2">Category: {{ product.category }}</p>
    <p class="text-lg font-semibold mb-4 text-green-600">$ {{ product.price }}</p>
    <!-- â­ Rating Display -->
    <div *ngIf="product?.rating" class="flex items-center gap-2 mt-2">
        <div class="flex gap-0.5">
            <ng-container *ngFor="let star of [1, 2, 3, 4, 5]">
                <svg [ngClass]="{
                'text-yellow-400': star <= Math.round(product.rating.rate),
                'text-gray-300': star > Math.round(product.rating.rate)
              }" class="w-5 h-5 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                    <path
                        d="M10 15l-5.878 3.09 1.122-6.545L.488 6.91l6.561-.955L10 0l2.951 5.955 6.561.955-4.756 4.635 1.122 6.545z" />
                </svg>
            </ng-container>
        </div>
        <span class="text-sm text-gray-600 dark:text-gray-300">
            {{ product.rating.rate }} ({{ product.rating.count }} reviews)
        </span>
    </div>

    <p class="text-gray-800">{{ product.description }}</p>

</div>